(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{535:function(t,e,n){"use strict";n.r(e);var r={props:{fields:{}},mounted:function(){}},o=n(43),l=n(51),c=n.n(l),v=n(194),d=n(508),m=n(507),f=n(524),x=n(521),h=n(531),_=n(568),w=n(193),y=n(157),T=n(525),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{elevation:"0"}},[n("v-container",[n("v-row",{attrs:{dense:""}},t._l(t.fields,(function(e){return n("v-col",{key:e._id,attrs:{cols:"12"}},[n("v-hover",{attrs:{"close-delay":"50"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.hover;return[n("v-card",{staticClass:"animate__animated animate__bounce",attrs:{to:"/article/"+e.contentsId,elevation:o?4:1}},[n("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[n("v-container",[n("v-card-title",{staticClass:"headline",domProps:{textContent:t._s(e.title)}}),t._v(" "),n("div",[n("v-img",{staticClass:"d-sm-none imgbig",attrs:{src:e.cover,"max-height":"400","aspect-ratio":1.6,"lazy-src":"",transition:"slide-y-reverse-transition"}})],1),t._v(" "),n("v-chip",{staticClass:"ma-1",attrs:{color:"light-blue darken-1",outlined:"",small:""}},[n("v-avatar",{attrs:{center:""}},[n("v-icon",[t._v("mdi-tag-outline")])],1),t._v("\n                  Tag\n                ")],1),t._v(" "),t._l(e.tag,(function(e,r){return n("v-chip",{key:r,staticClass:"ma-1",attrs:{outlined:"",to:"/tag/"+e._id,small:""}},[t._v("\n                  "+t._s(e.name)+"\n                  "),n("v-avatar",{directives:[{name:"show",rawName:"v-show",value:e.icon,expression:"t.icon"}]},[n("v-icon",[t._v(t._s(e.icon))])],1)],1)})),t._v(" "),n("v-col",[n("span",{attrs:{"align-content-end":""}},[n("v-icon",{staticClass:"m2",attrs:{small:""}},[t._v("mdi-calendar-clock ")]),t._v("\n                    "+t._s(t._f("formatDate")(e.createdAt,"yyyy年MM月dd日"))),n("v-icon",{attrs:{small:""}},[t._v("mdi-book ")]),t._v("分类:"+t._s(e.classification.name))],1),t._v(" "),n("span",{staticStyle:{float:"right"}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-comment-processing-outline ")]),t._v(t._s(e.commentsNum))],1)])],2),t._v(" "),n("v-avatar",{staticClass:"ma-3 d-none d-sm-block imgbig",attrs:{size:"150",tile:""}},[n("v-img",{attrs:{src:e.coverSmall,"lazy-src":"",transition:"slide-y-reverse-transition"}})],1)],1)])]}}],null,!0)})],1)})),1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAvatar:v.a,VCard:d.a,VCardTitle:m.c,VChip:f.a,VCol:x.a,VContainer:h.a,VHover:_.a,VIcon:w.a,VImg:y.a,VRow:T.a})},543:function(t,e,n){var content=n(570);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("51adcefc",content,!0,{sourceMap:!1})},569:function(t,e,n){"use strict";n(543)},570:function(t,e,n){var r=n(11)(!1);r.push([t.i,".ppt{text-shadow:#000 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0;-webkit-text-shadow:#000 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0;-moz-text-shadow:#000 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0}",""]),t.exports=r},610:function(t,e,n){"use strict";n.r(e);var r={props:{ppts:{}},mounted:function(){var t=window.innerWidth;this.carouselHeight=t>660?"320px":"200px"},data:function(){return{innerWidth:0,carouselHeight:""}},watch:{innerWidth:function(t){}}},o=(n(569),n(43)),l=n(51),c=n.n(l),v=n(615),d=n(616),m=n(521),f=n(525),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-carousel",{staticClass:"carousel",attrs:{cycle:"","hide-delimiter-background":"","show-arrows-on-hover":"","hide-delimiters":"",interval:5e3,height:t.carouselHeight}},t._l(t.ppts,(function(e){return n("v-carousel-item",{key:e._id,attrs:{to:e.pptLink,src:e.pptImage}},[n("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[n("h1",{staticClass:"display-1 font-weight-thin mb-4 ppt"},[t._v(t._s(e.pptTitle))]),t._v(" "),n("h4",{staticClass:"subheading ppt"},[t._v(t._s(e.pptSubTitle))])])],1)],1)})),1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VCarousel:v.a,VCarouselItem:d.a,VCol:m.a,VRow:f.a})},611:function(t,e,n){"use strict";n.r(e);var r={props:{recently:{}}},o=n(43),l=n(51),c=n.n(l),v=n(508),d=n(522),m=n(157),f=n(195),x=n(122),h=n(198),_=n(30),w=n(600),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{"max-width":"1200"}},[n("v-list",{attrs:{"three-line":""}},[n("v-subheader",[t._v("最近评论")]),t._v(" "),t._l(t.recently,(function(e){return[n("v-divider",{key:e._id}),t._v(" "),n("v-list-item",{key:e._id+1,attrs:{to:"article/"+e.contentsId}},[n("v-list-item-avatar",[n("v-img",{staticClass:"img-full",attrs:{src:"https://gravatar.helingqi.com/wavatar/"+e.MD5email+"?s=220&r=X&d=mm"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(e.authorName)}}),t._v(" "),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.text)}})],1)],1)]}))],2)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VCard:v.a,VDivider:d.a,VImg:m.a,VList:f.a,VListItem:x.a,VListItemAvatar:h.a,VListItemContent:_.a,VListItemSubtitle:_.b,VListItemTitle:_.c,VSubheader:w.a})},612:function(t,e,n){"use strict";n.r(e);var r={props:{pixivTop:null}},o=n(43),l=n(51),c=n.n(l),v=n(615),d=n(616),m=n(531),f=n(157),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("p",[t._v("   Pixiv每日排行榜Top50")]),t._v(" "),null!==t.pixivTop?n("v-carousel",{attrs:{cycle:"","hide-delimiter-background":"","show-arrows-on-hover":"","hide-delimiters":"",interval:6e3,height:"400px"}},t._l(t.pixivTop.image,(function(image,i){return n("v-carousel-item",{key:t.pixivTop[i],attrs:{href:"https://www.pixiv.net/"+t.pixivTop.url[i],target:"_blank",align:"center"}},[n("div",{staticStyle:{width:"100%",height:"100%","text-align":"center"}},[n("v-img",{attrs:{src:image}})],1)])})),1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VCarousel:v.a,VCarouselItem:d.a,VContainer:m.a,VImg:f.a})},613:function(t,e,n){"use strict";n.r(e);n(17);var r={props:{length:""},data:function(){return{page:Number}},created:function(){console.log(this.page)},watch:{page:{handler:function(t){this.$router.push("".concat(this.page))},deep:!0}}},o=n(43),l=n(51),c=n.n(l),v=n(635),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:t.length},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VPagination:v.a})},653:function(t,e,n){"use strict";n.r(e);var r=n(25),o=(n(44),n(74),n(610)),l=n(292),c=n(611),v=n(612),d=n(535),m=n(613),f={components:{PPT:o.default,Tag:l.default,Recently:c.default,Top50:v.default,ArticleList:d.default,Paging:m.default},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,r=t.params,o=r.id,e.next=4,n.$get("fields",{params:{query:{limit:8,page:o,sort:"-_id",populate:"tag classification"}}});case 4:return l=e.sent,e.next=7,n.$get("comments/recently");case 7:return c=e.sent,e.abrupt("return",{fields:l.data,recently:c,total:parseInt(l.total),lastPage:parseInt(l.lastPage),page:parseInt(l.page)||1});case 9:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;setTimeout((function(){t.getPpt(),t.getPixiv(),setTimeout((function(){return t.getTag()}),100)}),0)},data:function(){return{tag:null,pixivTop:null,ppt:null}},methods:{getPpt:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.ppt),null!==(data=JSON.parse(localStorage.getItem("ppt")))){e.next=10;break}return console.log("if"),e.next=6,t.$axios.$get("ppt",{params:{query:{sort:"rank"}}});case 6:t.ppt=e.sent.data,localStorage.setItem("ppt",JSON.stringify({data:t.ppt,date:(new Date).getTime()})),e.next=21;break;case 10:if(console.log("else"),!(data.date+222e5>(new Date).getTime())){e.next=16;break}t.ppt=data.data,console.log("使用缓存"),e.next=21;break;case 16:return console.log("更新缓存"),e.next=19,t.$axios.$get("ppt",{params:{query:{sort:"rank"}}});case 19:t.ppt=e.sent.data,localStorage.setItem("ppt",JSON.stringify({data:t.ppt,date:(new Date).getTime()}));case 21:case"end":return e.stop()}}),e)})))()},getPixiv:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(data=JSON.parse(localStorage.getItem("pixivTop")))){e.next=8;break}return e.next=4,t.$axios.$get("/theme/pixiv");case 4:t.pixivTop=e.sent,localStorage.setItem("pixivTop",JSON.stringify({data:t.pixivTop,date:(new Date).getTime()})),e.next=16;break;case 8:if(!(data.date+222e5>(new Date).getTime())){e.next=12;break}t.pixivTop=data.data,e.next=16;break;case 12:return e.next=14,t.$axios.$get("/theme/pixiv");case 14:t.pixivTop=e.sent,localStorage.setItem("pixivTop",JSON.stringify({data:t.pixivTop,date:(new Date).getTime()}));case 16:case"end":return e.stop()}}),e)})))()},getTag:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(data=JSON.parse(localStorage.getItem("tag")))){e.next=8;break}return e.next=4,t.$axios.$get("/tag",{params:{query:{limit:777,sort:"-contentsNum"}}});case 4:t.tag=e.sent.data,localStorage.setItem("tag",JSON.stringify({data:t.tag,date:(new Date).getTime()})),e.next=16;break;case 8:if(!(data.date+222e5>(new Date).getTime())){e.next=12;break}t.tag=data.data,e.next=16;break;case 12:return e.next=14,t.$axios.$get("/tag",{params:{query:{limit:777,sort:"-contentsNum"}}});case 14:t.tag=e.sent.data,localStorage.setItem("tag",JSON.stringify({data:t.tag,date:(new Date).getTime()}));case 16:case"end":return e.stop()}}),e)})))()}},watch:{page:{handler:function(t){this.$router.push("".concat(this.page))}}}},x=n(43),h=n(51),_=n.n(h),w=n(521),y=n(635),T=n(525),component=Object(x.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("PPT",{attrs:{ppts:t.ppt}})],1),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",xl:"9",lg:"9",md:"9",sm:"12",xs:"12"}},[n("div",[n("br"),t._v(" "),n("v-row",[n("v-col",[n("ArticleList",{attrs:{fields:t.fields}}),t._v(" "),n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:t.lastPage-1},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",xl:"3",lg:"3",md:"3",sm:"12",xs:"12"}},[n("div",[n("br"),t._v(" "),n("Recently",{attrs:{recently:t.recently}}),t._v(" "),n("Top-50",{attrs:{pixivTop:t.pixivTop}}),t._v(" "),n("p",{staticClass:"text-h6 pb-4"},[t._v("标签")]),t._v(" "),t.tag!=={}?n("Tag",{attrs:{tags:t.tag}}):t._e()],1)])],1)],1)}),[],!1,null,"0f89e404",null);e.default=component.exports;_()(component,{ArticleList:n(535).default}),_()(component,{VCol:w.a,VPagination:y.a,VRow:T.a})}}]);